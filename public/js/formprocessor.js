var _0x1b1c=['#more-cities','click','totalClusterUsers','setHTML','There\x20are\x20','addTo','geometry','coordinates','flyTo','empty','username','age','shortBio','lastMessage','&#9794;','female','&#9792;','\x27\x20onclick=\x22openChat(\x27','\x27,\x27','\x27)\x22','</b>,\x20','<br><b>','</b></div>','<div\x20class=\x27city-panel\x20id=\x27','<br>','left','country','</div>','#chat-button','removeClass','active','#chat-list','css','display','none','#city-button','addClass','#city-user-list','block','#login-form','submit','preventDefault','#aaifh471','val','#aaifh477','#username','Make\x20sure\x20your\x20username\x20is\x20between\x204\x20and\x2020\x20characters.','#age','#bio','Wait\x20until\x20flyTo\x20has\x20finished.','#chat-menu','fadeIn','#sex','find',':selected','getTime','#login-wrapper','getJSON','https://api.ipdata.co/?api-key=982a1375474d4f171923e408626833ab269d418e63036d66243c8059','emit','ipMapping','forEach','includes','addSource','userCityCircle','geojson','FeatureCollection','Feature','Point','addLayer','#ff6666','getSource','initializeUser','cityUpdate','mouseenter','features','getCitySizes','lngLat','lng','lat','setLngLat','sex','<div\x20class=\x27city-panel\x27\x20id=\x27','\x27)\x22><b>','<div\x20class=\x27city-label\x27>','queryRenderedFeatures','clusters','cluster_id','point_count','mouseleave','remove','#map','pointer-events','auto','getRandomUsers','replace','\x5c$&','Geolocation\x20is\x20not\x20working\x20on\x20your\x20browser.\x20You\x20must\x20enable\x20geolocation\x20to\x20use\x20chatiton.com.','returnCityData','returnTopCities','keys','#city-list','length','split','append','<div\x20onclick=visitCity(','><b>','</b>:\x20','\x20active\x20users.\x20</div>','properties','city','push','<button\x20id=\x22more-cities\x22>View\x20more\x20cities\x20in\x20this\x20area</button>'];(function(_0x4dcf09,_0x1d6dea){var _0x4bc016=function(_0x50e21e){while(--_0x50e21e){_0x4dcf09['push'](_0x4dcf09['shift']());}};_0x4bc016(++_0x1d6dea);}(_0x1b1c,0xd0));var _0x32eb=function(_0x458d88,_0x5798e7){_0x458d88=_0x458d88-0x0;var _0x482657=_0x1b1c[_0x458d88];return _0x482657;};var clusterSource;function addEscapeChars(_0x238ced){return(_0x238ced+'')[_0x32eb('0x0')](/[\\"']/g,_0x32eb('0x1'))['replace'](/\u0000/g,'\x5c0');}function removeEscapeChars(_0x54d983){return _0x54d983[_0x32eb('0x0')](/\\"/g,'\x22');}function checkGeolocation(){if(!navigator['geolocation']){alert(_0x32eb('0x2'));}}checkGeolocation();socket['on'](_0x32eb('0x3'),downloadCityData);function downloadCityData(_0x13b54c){cityUserList=_0x13b54c;renderCitySizes(_0x13b54c);}socket['on'](_0x32eb('0x4'),downloadTopCities);function downloadTopCities(_0x68d3fc){var _0xb0a21f=_0x68d3fc[0x0];var _0x33e28d=_0x68d3fc[0x1];cityRanking=_0x68d3fc[0x2];var _0x1d7901=_0x68d3fc[0x3];var _0x2ceb23=Object[_0x32eb('0x5')](_0x33e28d);$(_0x32eb('0x6'))['empty']();if(_0x33e28d){var _0x3b0b82=![];for(var _0x399eaf=0x0;_0x399eaf<_0x2ceb23[_0x32eb('0x7')];_0x399eaf++){var _0x18ec62=_0x2ceb23[_0x399eaf];var _0x12a1bd=_0x18ec62[_0x32eb('0x8')]('-')[0x0];var _0x167dee=_0x18ec62[_0x32eb('0x8')]('-')[0x1];if(_0x33e28d[_0x18ec62]>=0x1){_0x3b0b82=!![];$(_0x32eb('0x6'))[_0x32eb('0x9')](_0x32eb('0xa')+_0x167dee+',\x27'+_0x18ec62+'\x27)\x20class=\x27city-panel\x27\x20id='+_0x167dee+_0x32eb('0xb')+_0x12a1bd+_0x32eb('0xc')+_0x33e28d[_0x18ec62]+_0x32eb('0xd'));$('#'+_0x167dee)['click'](function(){visitCity(_0x167dee,_0x18ec62);});}}if(_0x3b0b82){clusterSource['getClusterLeaves'](_0xb0a21f,_0x1d7901,0x0,function(_0x266958,_0x3f47cf){var _0x1db591=[];for(var _0x399eaf=0x0;_0x399eaf<_0x3f47cf[_0x32eb('0x7')];_0x399eaf++){var _0x2f4626=_0x3f47cf[_0x399eaf];var _0x18ec62=_0x2f4626[_0x32eb('0xe')][_0x32eb('0xf')];_0x1db591[_0x32eb('0x10')](_0x18ec62);}$(_0x32eb('0x6'))[_0x32eb('0x9')](_0x32eb('0x11'));$(_0x32eb('0x12'))[_0x32eb('0x13')](function(){retrieveTopKCities(_0xb0a21f,_0x1db591,cityRanking);});});}}}socket['on'](_0x32eb('0x14'),downloadClusterUsers);function downloadClusterUsers(_0x46436e){var _0x4cbf14=_0x46436e[0x0];var _0x30244d=_0x46436e[0x1];clusterToNumCities[_0x4cbf14]=_0x30244d;clusterPopup[_0x32eb('0x15')](_0x32eb('0x16')+_0x30244d+'\x20active\x20user(s)\x20here.')[_0x32eb('0x17')](map);}function retrieveTopKCities(_0x5a790d,_0x5944ef,_0x49272a){socket['emit']('retrieveTopKCitySizes',[_0x5a790d,_0x5944ef,_0x49272a]);}function visitCity(_0x322465,_0x21d0ee){var _0x2d510c=featureById[parseInt(_0x322465)][_0x32eb('0x18')][_0x32eb('0x19')];map[_0x32eb('0x1a')]({'center':_0x2d510c,'zoom':0xb});var _0x5c1664=cityUserList[_0x21d0ee];$(_0x32eb('0x6'))[_0x32eb('0x1b')]();if(_0x5c1664){for(var _0x19aeb3=0x0;_0x19aeb3<_0x5c1664[_0x32eb('0x7')];_0x19aeb3++){var _0x4a000b=_0x5c1664[_0x19aeb3];var _0x20bee7=addEscapeChars(_0x4a000b['id']);var _0x5980fe=addEscapeChars(_0x4a000b[_0x32eb('0x1c')]);var _0x17f349=addEscapeChars(_0x4a000b[_0x32eb('0x1d')]);var _0x4bda6e=addEscapeChars(_0x4a000b['sex']);var _0x1a51d7=addEscapeChars(_0x4a000b[_0x32eb('0x1e')]);var _0x2bd06e=_0x4a000b[_0x32eb('0x1f')];if(_0x2bd06e){_0x2bd06e=addEscapeChars(_0x4a000b[_0x32eb('0x1f')]);}else{_0x2bd06e='Start\x20chatting\x20with\x20'+_0x5980fe+'!';}var _0x13e3e2=_0x32eb('0x20');if(_0x4bda6e==_0x32eb('0x21')){_0x13e3e2=_0x32eb('0x22');}if(unopenedChats['includes'](_0x20bee7)){$(_0x32eb('0x6'))[_0x32eb('0x9')]('<div\x20class=\x27city-panel\x27\x20id=\x27'+_0x20bee7+_0x32eb('0x23')+_0x20bee7+_0x32eb('0x24')+_0x5980fe+_0x32eb('0x24')+_0x4bda6e+'\x27,\x27'+_0x17f349+_0x32eb('0x24')+_0x1a51d7+_0x32eb('0x25')+'><b>'+_0x5980fe+_0x32eb('0x26')+_0x13e3e2+',\x20'+_0x17f349+_0x32eb('0x27')+removeEscapeChars(_0x2bd06e)+_0x32eb('0x28'));}else{$(_0x32eb('0x6'))[_0x32eb('0x9')](_0x32eb('0x29')+_0x20bee7+_0x32eb('0x23')+_0x20bee7+_0x32eb('0x24')+_0x5980fe+_0x32eb('0x24')+_0x4bda6e+_0x32eb('0x24')+_0x17f349+_0x32eb('0x24')+_0x1a51d7+_0x32eb('0x25')+'><b>'+_0x5980fe+_0x32eb('0x26')+_0x13e3e2+',\x20'+_0x17f349+_0x32eb('0x2a')+removeEscapeChars(_0x2bd06e)+'</div>');}$('#'+_0x20bee7)['css']('text-align',_0x32eb('0x2b'));}$('#city-list')[_0x32eb('0x9')]('<div\x20class=\x27city-label\x27>'+featureById[_0x322465][_0x32eb('0xe')]['city'][_0x32eb('0x8')]('-')[0x0]+',\x20'+featureById[_0x322465]['properties'][_0x32eb('0x2c')]+_0x32eb('0x2d'));}}function cityView(){$(_0x32eb('0x2e'))[_0x32eb('0x2f')](_0x32eb('0x30'));$(_0x32eb('0x31'))[_0x32eb('0x32')](_0x32eb('0x33'),_0x32eb('0x34'));$(_0x32eb('0x35'))[_0x32eb('0x36')](_0x32eb('0x30'));$(_0x32eb('0x37'))[_0x32eb('0x32')]('display',_0x32eb('0x38'));}function chatView(){$('#city-button')[_0x32eb('0x2f')](_0x32eb('0x30'));$(_0x32eb('0x37'))[_0x32eb('0x32')](_0x32eb('0x33'),_0x32eb('0x34'));$('#chat-button')[_0x32eb('0x36')](_0x32eb('0x30'));returnToChatList();$(_0x32eb('0x31'))[_0x32eb('0x32')](_0x32eb('0x33'),_0x32eb('0x38'));}$(_0x32eb('0x35'))['click'](function(){cityView();});$('#chat-button')[_0x32eb('0x13')](function(){chatView();});$(_0x32eb('0x39'))[_0x32eb('0x3a')](function(_0x2be8ac){_0x2be8ac[_0x32eb('0x3b')]();var _0x28cbd1=!![];if($(_0x32eb('0x3c'))[_0x32eb('0x3d')]()[_0x32eb('0x7')]!=0x0&&!$(_0x32eb('0x3e'))[_0x32eb('0x3d')]()[_0x32eb('0x7')]==0x0){alert('Hmm...\x20abnormal\x20behavior\x20was\x20detected.\x20Please\x20try\x20again.');_0x28cbd1=![];}if($(_0x32eb('0x3f'))[_0x32eb('0x3d')]()[_0x32eb('0x7')]<0x4||$('#username')[_0x32eb('0x3d')]()[_0x32eb('0x7')]>0x14){alert(_0x32eb('0x40'));_0x28cbd1=![];}if($(_0x32eb('0x41'))[_0x32eb('0x3d')]()<0x10||$(_0x32eb('0x41'))[_0x32eb('0x3d')]()>0x4b){alert('You\x20must\x20be\x20at\x20least\x2016\x20years\x20old\x20to\x20use\x20this\x20site...\x20if\x20your\x20age\x20is\x20over\x2075,\x20just\x20put\x2075.');_0x28cbd1=![];}if($(_0x32eb('0x42'))[_0x32eb('0x3d')]()[_0x32eb('0x7')]<0x14||$(_0x32eb('0x42'))[_0x32eb('0x3d')]()[_0x32eb('0x7')]>0x64){alert('Your\x20biography\x20must\x20be\x20between\x2020\x20and\x20100\x20characters');_0x28cbd1=![];}if(_0x28cbd1){if(flying){alert(_0x32eb('0x43'));}else{$(_0x32eb('0x44'))[_0x32eb('0x45')]();var _0x1d2c28=$(_0x32eb('0x3f'))[_0x32eb('0x3d')]();var _0x3adb79=$('#bio')[_0x32eb('0x3d')]();var _0x11128c=$(_0x32eb('0x41'))[_0x32eb('0x3d')]();var _0x1bedeb=$(_0x32eb('0x46'))[_0x32eb('0x47')](_0x32eb('0x48'))[_0x32eb('0x3d')]();var _0x5730d7=addEscapeChars(socket['id']);var _0x1d2c28=addEscapeChars(_0x1d2c28);var _0x54d6ff=addEscapeChars(_0x11128c);var _0x4ce2a2=addEscapeChars(_0x1bedeb);var _0x4e6d07=addEscapeChars(_0x3adb79);var _0xba3201='';date=new Date();you=new ChatUser(_0x5730d7,_0x1d2c28,_0x54d6ff,_0x4ce2a2,_0x4e6d07,_0xba3201,date[_0x32eb('0x49')]());$(_0x32eb('0x4a'))['fadeOut']();$[_0x32eb('0x4b')](_0x32eb('0x4c'),function(_0x10da23){var _0x53620b=_0x10da23[_0x32eb('0xf')];var _0x29b981=_0x10da23['ip'];if(_0x29b981){socket[_0x32eb('0x4d')](_0x32eb('0x4e'),_0x29b981);}var _0x10c692='';updateCityNames();Object[_0x32eb('0x5')](cityNames)[_0x32eb('0x4f')](function(_0x13621){if(_0x13621[_0x32eb('0x50')](_0x53620b+'-')){_0x10c692=_0x13621;var _0x288de7=cityNames[_0x13621];cityLong=_0x288de7[_0x32eb('0x18')][_0x32eb('0x19')][0x0];cityLat=_0x288de7[_0x32eb('0x18')][_0x32eb('0x19')][0x1];}});flying=!![];map[_0x32eb('0x1a')]({'center':[cityLong,cityLat]});map[_0x32eb('0x51')](_0x32eb('0x52'),{'type':_0x32eb('0x53'),'data':{'type':_0x32eb('0x54'),'features':[{'type':_0x32eb('0x55'),'geometry':{'type':_0x32eb('0x56'),'coordinates':[cityLong,cityLat]}}]}});map[_0x32eb('0x57')]({'id':_0x32eb('0x52'),'type':'circle','source':'userCityCircle','layout':{'visibility':_0x32eb('0x34')},'paint':{'circle-radius':0xe,'circle-color':_0x32eb('0x58'),'circle-opacity':0.6}});clusterSource=map[_0x32eb('0x59')]('cities');socket['emit'](_0x32eb('0x5a'),[_0x1d2c28,_0x11128c,_0x3adb79,_0x1bedeb,_0x10c692,featureById[_0x10c692[_0x32eb('0x8')]('-')[0x1]][_0x32eb('0xe')][_0x32eb('0x2c')]]);socket['emit'](_0x32eb('0x5b'),_0x10c692);var _0x283743=parseInt(_0x10c692[_0x32eb('0x8')]('-')[0x1]);popup=new mapboxgl['Popup']({'closeButton':![],'closeOnClick':![]});clusterPopup=new mapboxgl['Popup']({'closeButton':![],'closeOnClick':![]});map['on'](_0x32eb('0x5c'),'cities',function(_0x2be8ac){cityRanking=0x1;var _0x173d83=_0x2be8ac[_0x32eb('0x5d')][0x0][_0x32eb('0xe')][_0x32eb('0xf')];if(_0x173d83){socket[_0x32eb('0x4d')](_0x32eb('0x5e'),[_0x173d83]);var _0x2569af=cityUserList[_0x173d83];var _0x5e20a8=0x0;if(_0x2569af){_0x5e20a8=_0x2569af[_0x32eb('0x7')];}var _0x2338ff=[_0x2be8ac[_0x32eb('0x5f')][_0x32eb('0x60')],_0x2be8ac[_0x32eb('0x5f')][_0x32eb('0x61')]];popup[_0x32eb('0x62')](_0x2338ff)['setHTML'](_0x32eb('0x16')+_0x5e20a8+'\x20active\x20user(s)\x20here.')['addTo'](map);cityView();$(_0x32eb('0x6'))[_0x32eb('0x1b')]();if(_0x2569af){for(var _0x5d933a=0x0;_0x5d933a<_0x2569af['length'];_0x5d933a++){var _0x425f51=_0x2569af[_0x5d933a];var _0x5730d7=_0x425f51['id'];var _0x1d2c28=addEscapeChars(_0x425f51[_0x32eb('0x1c')]);var _0x4ce2a2=addEscapeChars(_0x425f51[_0x32eb('0x63')]);var _0x4e6d07=addEscapeChars(_0x425f51[_0x32eb('0x1e')]);var _0x22ad55=_0x32eb('0x20');if(_0x4ce2a2=='female'){_0x22ad55=_0x32eb('0x22');}$(_0x32eb('0x6'))[_0x32eb('0x9')](_0x32eb('0x64')+_0x5730d7+'\x27\x20onclick=\x22openChat(\x27'+_0x5730d7+_0x32eb('0x24')+_0x1d2c28+_0x32eb('0x24')+_0x4ce2a2+'\x27,\x27'+_0x425f51[_0x32eb('0x1d')]+_0x32eb('0x24')+_0x4e6d07+_0x32eb('0x65')+_0x425f51[_0x32eb('0x1c')]+'</b>,\x20'+_0x22ad55+',\x20'+_0x425f51[_0x32eb('0x1d')]+_0x32eb('0x2a')+_0x425f51['shortBio']+_0x32eb('0x2d'));}var _0x283743=_0x173d83[_0x32eb('0x8')]('-')[0x1];$('#city-list')[_0x32eb('0x9')](_0x32eb('0x66')+featureById[_0x283743][_0x32eb('0xe')]['city'][_0x32eb('0x8')]('-')[0x0]+',\x20'+featureById[_0x283743][_0x32eb('0xe')][_0x32eb('0x2c')]+_0x32eb('0x2d'));}}});map['on'](_0x32eb('0x5c'),'clusters',function(_0x2be8ac){var _0x5e4e0a=map[_0x32eb('0x67')](_0x2be8ac['point'],{'layers':[_0x32eb('0x68')]});var _0x25493c=_0x5e4e0a[0x0][_0x32eb('0xe')][_0x32eb('0x69')];var _0x432a33=_0x5e4e0a[0x0]['properties'][_0x32eb('0x6a')];clusterSource['getClusterLeaves'](_0x25493c,_0x432a33,0x0,function(_0x2e81f7,_0x5e4e0a){var _0x4a5f94=[];for(var _0x5a7cac=0x0;_0x5a7cac<_0x5e4e0a[_0x32eb('0x7')];_0x5a7cac++){var _0x1093a4=_0x5e4e0a[_0x5a7cac];var _0x3c6ef9=_0x1093a4[_0x32eb('0xe')][_0x32eb('0xf')];_0x4a5f94[_0x32eb('0x10')](_0x3c6ef9);}retrieveTopKCities(_0x25493c,_0x4a5f94,cityRanking);var _0x305c60=clusterToNumCities[_0x25493c];var _0x385a66=[_0x2be8ac[_0x32eb('0x5f')][_0x32eb('0x60')],_0x2be8ac[_0x32eb('0x5f')]['lat']];clusterPopup['setLngLat'](_0x385a66);});cityView();});map['on'](_0x32eb('0x6b'),_0x32eb('0x68'),function(){clusterPopup[_0x32eb('0x6c')]();});map['on']('mouseleave','cities',function(){popup[_0x32eb('0x6c')]();});$(_0x32eb('0x6d'))[_0x32eb('0x32')](_0x32eb('0x6e'),_0x32eb('0x6f'));updateCityNames();socket['emit'](_0x32eb('0x5e'),Object[_0x32eb('0x5')](cityNames));});socket['emit'](_0x32eb('0x70'),0xf);}}});