var _0x550c=['#ff6666','getSource','cities','initializeUser','cityUpdate','Popup','mouseenter','features','lngLat','lat','There\x20are\x20','addTo','shortBio','\x27)\x22><b>','queryRenderedFeatures','point','clusters','cluster_id','point_count','lng','setLngLat','mouseleave','remove','#map','auto','getCitySizes','replace','\x5c$&','geolocation','Geolocation\x20is\x20not\x20working\x20on\x20your\x20browser.\x20You\x20must\x20enable\x20geolocation\x20to\x20use\x20chatiton.com.','returnCityData','#city-list','length','split','\x27)\x20class=\x27city-panel\x27\x20id=','\x20active\x20users.\x20</div>','click','getClusterLeaves','properties','city','push','append','<button\x20id=\x22more-cities\x22>View\x20more\x20cities\x20in\x20this\x20area</button>','totalClusterUsers','setHTML','\x20active\x20user(s)\x20here.','emit','retrieveTopKCitySizes','geometry','coordinates','flyTo','empty','username','age','sex','lastMessage','Start\x20chatting\x20with\x20','&#9794;','female','&#9792;','includes','<div\x20class=\x27city-panel\x27\x20id=\x27','\x27,\x27','\x27)\x22','</b>,\x20','<br><b>','</b></div>','<div\x20class=\x27city-panel\x20id=\x27','\x27\x20onclick=\x22openChat(\x27','<br>','</div>','css','left','<div\x20class=\x27city-label\x27>','country','#chat-button','active','#chat-list','display','none','addClass','block','#city-button','removeClass','#login-form','submit','preventDefault','#aaifh471','val','Hmm...\x20abnormal\x20behavior\x20was\x20detected.\x20Please\x20try\x20again.','#username','Make\x20sure\x20your\x20username\x20is\x20between\x204\x20and\x2020\x20characters.','#age','You\x20must\x20be\x20at\x20least\x2016\x20years\x20old\x20to\x20use\x20this\x20site...\x20if\x20your\x20age\x20is\x20over\x2075,\x20just\x20put\x2075.','#bio','Your\x20biography\x20must\x20be\x20between\x2020\x20and\x20100\x20characters','Wait\x20until\x20flyTo\x20has\x20finished.','#chat-menu','fadeIn','#sex','getTime','#login-wrapper','fadeOut','getJSON','https://api.ipdata.co/?api-key=982a1375474d4f171923e408626833ab269d418e63036d66243c8059','ipMapping','keys','forEach','addSource','userCityCircle','geojson','FeatureCollection','Feature','Point','circle'];(function(_0x433e1c,_0x5c2e88){var _0xf88948=function(_0x24cbd1){while(--_0x24cbd1){_0x433e1c['push'](_0x433e1c['shift']());}};_0xf88948(++_0x5c2e88);}(_0x550c,0x1e6));var _0x56ae=function(_0x562cc7,_0x1d0b55){_0x562cc7=_0x562cc7-0x0;var _0x473c1d=_0x550c[_0x562cc7];return _0x473c1d;};var clusterSource;function addEscapeChars(_0x4b81bb){return(_0x4b81bb+'')[_0x56ae('0x0')](/[\\"']/g,_0x56ae('0x1'))[_0x56ae('0x0')](/\u0000/g,'\x5c0');}function removeEscapeChars(_0x3e4c21){return _0x3e4c21['replace'](/\\"/g,'\x22');}function checkGeolocation(){if(!navigator[_0x56ae('0x2')]){alert(_0x56ae('0x3'));}}checkGeolocation();socket['on'](_0x56ae('0x4'),downloadCityData);function downloadCityData(_0x151bd2){cityUserList=_0x151bd2;renderCitySizes(_0x151bd2);}socket['on']('returnTopCities',downloadTopCities);function downloadTopCities(_0xd7aec1){var _0x230f38=_0xd7aec1[0x0];var _0x948b6c=_0xd7aec1[0x1];cityRanking=_0xd7aec1[0x2];var _0x29929c=_0xd7aec1[0x3];var _0x5dd881=Object['keys'](_0x948b6c);$(_0x56ae('0x5'))['empty']();if(_0x948b6c){var _0x333808=![];for(var _0x432180=0x0;_0x432180<_0x5dd881[_0x56ae('0x6')];_0x432180++){var _0x991246=_0x5dd881[_0x432180];var _0x981158=_0x991246['split']('-')[0x0];var _0x219af0=_0x991246[_0x56ae('0x7')]('-')[0x1];if(_0x948b6c[_0x991246]>=0x1){_0x333808=!![];$(_0x56ae('0x5'))['append']('<div\x20onclick=visitCity('+_0x219af0+',\x27'+_0x991246+_0x56ae('0x8')+_0x219af0+'><b>'+_0x981158+'</b>:\x20'+_0x948b6c[_0x991246]+_0x56ae('0x9'));$('#'+_0x219af0)[_0x56ae('0xa')](function(){visitCity(_0x219af0,_0x991246);});}}if(_0x333808){clusterSource[_0x56ae('0xb')](_0x230f38,_0x29929c,0x0,function(_0x3ab53f,_0xfeb75b){var _0xbd1168=[];for(var _0x432180=0x0;_0x432180<_0xfeb75b['length'];_0x432180++){var _0x527cdd=_0xfeb75b[_0x432180];var _0x991246=_0x527cdd[_0x56ae('0xc')][_0x56ae('0xd')];_0xbd1168[_0x56ae('0xe')](_0x991246);}$(_0x56ae('0x5'))[_0x56ae('0xf')](_0x56ae('0x10'));$('#more-cities')[_0x56ae('0xa')](function(){retrieveTopKCities(_0x230f38,_0xbd1168,cityRanking);});});}}}socket['on'](_0x56ae('0x11'),downloadClusterUsers);function downloadClusterUsers(_0x2b4227){var _0x281129=_0x2b4227[0x0];var _0x44dcfd=_0x2b4227[0x1];clusterToNumCities[_0x281129]=_0x44dcfd;clusterPopup[_0x56ae('0x12')]('There\x20are\x20'+_0x44dcfd+_0x56ae('0x13'))['addTo'](map);}function retrieveTopKCities(_0x1985b6,_0x519dfd,_0x16033c){socket[_0x56ae('0x14')](_0x56ae('0x15'),[_0x1985b6,_0x519dfd,_0x16033c]);}function visitCity(_0x225616,_0x5a0a06){var _0x459eb1=featureById[parseInt(_0x225616)][_0x56ae('0x16')][_0x56ae('0x17')];map[_0x56ae('0x18')]({'center':_0x459eb1,'zoom':0xb});var _0x31b1ca=cityUserList[_0x5a0a06];$(_0x56ae('0x5'))[_0x56ae('0x19')]();if(_0x31b1ca){for(var _0x20559e=0x0;_0x20559e<_0x31b1ca[_0x56ae('0x6')];_0x20559e++){var _0x112016=_0x31b1ca[_0x20559e];var _0x1c696a=addEscapeChars(_0x112016['id']);var _0x105080=addEscapeChars(_0x112016[_0x56ae('0x1a')]);var _0x2c3407=addEscapeChars(_0x112016[_0x56ae('0x1b')]);var _0x53682f=addEscapeChars(_0x112016[_0x56ae('0x1c')]);var _0x5a09ef=addEscapeChars(_0x112016['shortBio']);var _0x3a02e1=_0x112016[_0x56ae('0x1d')];if(_0x3a02e1){_0x3a02e1=addEscapeChars(_0x112016[_0x56ae('0x1d')]);}else{_0x3a02e1=_0x56ae('0x1e')+_0x105080+'!';}var _0x4abc77=_0x56ae('0x1f');if(_0x53682f==_0x56ae('0x20')){_0x4abc77=_0x56ae('0x21');}if(unopenedChats[_0x56ae('0x22')](_0x1c696a)){$(_0x56ae('0x5'))[_0x56ae('0xf')](_0x56ae('0x23')+_0x1c696a+'\x27\x20onclick=\x22openChat(\x27'+_0x1c696a+'\x27,\x27'+_0x105080+_0x56ae('0x24')+_0x53682f+_0x56ae('0x24')+_0x2c3407+_0x56ae('0x24')+_0x5a09ef+_0x56ae('0x25')+'><b>'+_0x105080+_0x56ae('0x26')+_0x4abc77+',\x20'+_0x2c3407+_0x56ae('0x27')+removeEscapeChars(_0x3a02e1)+_0x56ae('0x28'));}else{$('#city-list')[_0x56ae('0xf')](_0x56ae('0x29')+_0x1c696a+_0x56ae('0x2a')+_0x1c696a+_0x56ae('0x24')+_0x105080+_0x56ae('0x24')+_0x53682f+_0x56ae('0x24')+_0x2c3407+_0x56ae('0x24')+_0x5a09ef+_0x56ae('0x25')+'><b>'+_0x105080+_0x56ae('0x26')+_0x4abc77+',\x20'+_0x2c3407+_0x56ae('0x2b')+removeEscapeChars(_0x3a02e1)+_0x56ae('0x2c'));}$('#'+_0x1c696a)[_0x56ae('0x2d')]('text-align',_0x56ae('0x2e'));}$(_0x56ae('0x5'))[_0x56ae('0xf')](_0x56ae('0x2f')+featureById[_0x225616][_0x56ae('0xc')][_0x56ae('0xd')][_0x56ae('0x7')]('-')[0x0]+',\x20'+featureById[_0x225616][_0x56ae('0xc')][_0x56ae('0x30')]+'</div>');}}function cityView(){$(_0x56ae('0x31'))['removeClass'](_0x56ae('0x32'));$(_0x56ae('0x33'))[_0x56ae('0x2d')](_0x56ae('0x34'),_0x56ae('0x35'));$('#city-button')[_0x56ae('0x36')](_0x56ae('0x32'));$(_0x56ae('0x5'))[_0x56ae('0x2d')](_0x56ae('0x34'),_0x56ae('0x37'));}function chatView(){$(_0x56ae('0x38'))[_0x56ae('0x39')]('active');$(_0x56ae('0x5'))['css'](_0x56ae('0x34'),_0x56ae('0x35'));$(_0x56ae('0x31'))[_0x56ae('0x36')]('active');returnToChatList();$(_0x56ae('0x33'))[_0x56ae('0x2d')](_0x56ae('0x34'),_0x56ae('0x37'));}$(_0x56ae('0x38'))['click'](function(){cityView();});$(_0x56ae('0x31'))['click'](function(){chatView();});$(_0x56ae('0x3a'))[_0x56ae('0x3b')](function(_0x381c37){_0x381c37[_0x56ae('0x3c')]();var _0x4f41ae=!![];if($(_0x56ae('0x3d'))[_0x56ae('0x3e')]()[_0x56ae('0x6')]!=0x0&&!$('#aaifh477')[_0x56ae('0x3e')]()[_0x56ae('0x6')]==0x0){alert(_0x56ae('0x3f'));_0x4f41ae=![];}if($(_0x56ae('0x40'))['val']()[_0x56ae('0x6')]<0x4||$(_0x56ae('0x40'))['val']()[_0x56ae('0x6')]>0x14){alert(_0x56ae('0x41'));_0x4f41ae=![];}if($(_0x56ae('0x42'))[_0x56ae('0x3e')]()<0x10||$(_0x56ae('0x42'))['val']()>0x4b){alert(_0x56ae('0x43'));_0x4f41ae=![];}if($(_0x56ae('0x44'))['val']()[_0x56ae('0x6')]<0x14||$(_0x56ae('0x44'))[_0x56ae('0x3e')]()['length']>0x64){alert(_0x56ae('0x45'));_0x4f41ae=![];}if(_0x4f41ae){if(flying){alert(_0x56ae('0x46'));}else{$(_0x56ae('0x47'))[_0x56ae('0x48')]();var _0x13cb1f=$(_0x56ae('0x40'))[_0x56ae('0x3e')]();var _0x45a9b8=$(_0x56ae('0x44'))[_0x56ae('0x3e')]();var _0x2c3711=$(_0x56ae('0x42'))[_0x56ae('0x3e')]();var _0x11ca30=$(_0x56ae('0x49'))['find'](':selected')[_0x56ae('0x3e')]();var _0xb3795a=addEscapeChars(socket['id']);var _0x13cb1f=addEscapeChars(_0x13cb1f);var _0x315881=addEscapeChars(_0x2c3711);var _0x1a69dd=addEscapeChars(_0x11ca30);var _0xc9a702=addEscapeChars(_0x45a9b8);var _0x10b040='';date=new Date();you=new ChatUser(_0xb3795a,_0x13cb1f,_0x315881,_0x1a69dd,_0xc9a702,_0x10b040,date[_0x56ae('0x4a')]());$(_0x56ae('0x4b'))[_0x56ae('0x4c')]();$[_0x56ae('0x4d')](_0x56ae('0x4e'),function(_0x5026aa){var _0x117c99=_0x5026aa[_0x56ae('0xd')];var _0xdd268f=_0x5026aa['ip'];if(_0xdd268f){socket[_0x56ae('0x14')](_0x56ae('0x4f'),_0xdd268f);}var _0xbe9d19='';updateCityNames();Object[_0x56ae('0x50')](cityNames)[_0x56ae('0x51')](function(_0x59afe8){if(_0x59afe8[_0x56ae('0x22')](_0x117c99+'-')){_0xbe9d19=_0x59afe8;var _0x48fd45=cityNames[_0x59afe8];cityLong=_0x48fd45[_0x56ae('0x16')][_0x56ae('0x17')][0x0];cityLat=_0x48fd45[_0x56ae('0x16')]['coordinates'][0x1];}});flying=!![];map[_0x56ae('0x18')]({'center':[cityLong,cityLat]});map[_0x56ae('0x52')](_0x56ae('0x53'),{'type':_0x56ae('0x54'),'data':{'type':_0x56ae('0x55'),'features':[{'type':_0x56ae('0x56'),'geometry':{'type':_0x56ae('0x57'),'coordinates':[cityLong,cityLat]}}]}});map['addLayer']({'id':_0x56ae('0x53'),'type':_0x56ae('0x58'),'source':_0x56ae('0x53'),'layout':{'visibility':_0x56ae('0x35')},'paint':{'circle-radius':0xe,'circle-color':_0x56ae('0x59'),'circle-opacity':0.6}});clusterSource=map[_0x56ae('0x5a')](_0x56ae('0x5b'));socket[_0x56ae('0x14')](_0x56ae('0x5c'),[_0x13cb1f,_0x2c3711,_0x45a9b8,_0x11ca30,_0xbe9d19]);socket['emit'](_0x56ae('0x5d'),_0xbe9d19);var _0x3fe430=parseInt(_0xbe9d19['split']('-')[0x1]);popup=new mapboxgl[(_0x56ae('0x5e'))]({'closeButton':![],'closeOnClick':![]});clusterPopup=new mapboxgl['Popup']({'closeButton':![],'closeOnClick':![]});map['on'](_0x56ae('0x5f'),_0x56ae('0x5b'),function(_0x381c37){cityRanking=0x1;var _0x11545a=_0x381c37[_0x56ae('0x60')][0x0][_0x56ae('0xc')][_0x56ae('0xd')];if(_0x11545a){socket[_0x56ae('0x14')]('getCitySizes',[_0x11545a]);var _0x4b1b9f=cityUserList[_0x11545a];var _0x53975a=0x0;if(_0x4b1b9f){_0x53975a=_0x4b1b9f[_0x56ae('0x6')];}var _0x204173=[_0x381c37[_0x56ae('0x61')]['lng'],_0x381c37[_0x56ae('0x61')][_0x56ae('0x62')]];popup['setLngLat'](_0x204173)['setHTML'](_0x56ae('0x63')+_0x53975a+'\x20active\x20user(s)\x20here.')[_0x56ae('0x64')](map);cityView();$(_0x56ae('0x5'))[_0x56ae('0x19')]();if(_0x4b1b9f){for(var _0x3c20b2=0x0;_0x3c20b2<_0x4b1b9f[_0x56ae('0x6')];_0x3c20b2++){var _0x53613a=_0x4b1b9f[_0x3c20b2];var _0xb3795a=_0x53613a['id'];var _0x13cb1f=addEscapeChars(_0x53613a['username']);var _0x1a69dd=addEscapeChars(_0x53613a[_0x56ae('0x1c')]);var _0xc9a702=addEscapeChars(_0x53613a[_0x56ae('0x65')]);var _0x145931='&#9794;';if(_0x1a69dd==_0x56ae('0x20')){_0x145931='&#9792;';}$(_0x56ae('0x5'))[_0x56ae('0xf')]('<div\x20class=\x27city-panel\x27\x20id=\x27'+_0xb3795a+'\x27\x20onclick=\x22openChat(\x27'+_0xb3795a+_0x56ae('0x24')+_0x13cb1f+_0x56ae('0x24')+_0x1a69dd+_0x56ae('0x24')+_0x53613a[_0x56ae('0x1b')]+_0x56ae('0x24')+_0xc9a702+_0x56ae('0x66')+_0x53613a[_0x56ae('0x1a')]+_0x56ae('0x26')+_0x145931+',\x20'+_0x53613a[_0x56ae('0x1b')]+_0x56ae('0x2b')+_0x53613a['shortBio']+_0x56ae('0x2c'));}var _0x3fe430=_0x11545a[_0x56ae('0x7')]('-')[0x1];$(_0x56ae('0x5'))[_0x56ae('0xf')](_0x56ae('0x2f')+featureById[_0x3fe430]['properties'][_0x56ae('0xd')][_0x56ae('0x7')]('-')[0x0]+',\x20'+featureById[_0x3fe430]['properties'][_0x56ae('0x30')]+'</div>');}}});map['on'](_0x56ae('0x5f'),'clusters',function(_0x381c37){var _0x5674ee=map[_0x56ae('0x67')](_0x381c37[_0x56ae('0x68')],{'layers':[_0x56ae('0x69')]});var _0x1fc70e=_0x5674ee[0x0][_0x56ae('0xc')][_0x56ae('0x6a')];var _0x1cca9f=_0x5674ee[0x0][_0x56ae('0xc')][_0x56ae('0x6b')];clusterSource[_0x56ae('0xb')](_0x1fc70e,_0x1cca9f,0x0,function(_0x5854cc,_0x5674ee){var _0x1f07cb=[];for(var _0x51aaf7=0x0;_0x51aaf7<_0x5674ee['length'];_0x51aaf7++){var _0x453360=_0x5674ee[_0x51aaf7];var _0x156f1c=_0x453360[_0x56ae('0xc')][_0x56ae('0xd')];_0x1f07cb[_0x56ae('0xe')](_0x156f1c);}retrieveTopKCities(_0x1fc70e,_0x1f07cb,cityRanking);var _0x1d0dc8=clusterToNumCities[_0x1fc70e];var _0xe05a5a=[_0x381c37['lngLat'][_0x56ae('0x6c')],_0x381c37[_0x56ae('0x61')][_0x56ae('0x62')]];clusterPopup[_0x56ae('0x6d')](_0xe05a5a);});cityView();});map['on'](_0x56ae('0x6e'),'clusters',function(){clusterPopup[_0x56ae('0x6f')]();});map['on'](_0x56ae('0x6e'),_0x56ae('0x5b'),function(){popup[_0x56ae('0x6f')]();});$(_0x56ae('0x70'))['css']('pointer-events',_0x56ae('0x71'));updateCityNames();socket[_0x56ae('0x14')](_0x56ae('0x72'),Object[_0x56ae('0x50')](cityNames));});}}});
