var _0x136d=['\x27,\x27','\x27)\x22','<br><b>','<div\x20class=\x27city-panel\x20id=\x27','</b>,\x20','<br>','</div>','css','text-align','left','<div\x20class=\x27city-label\x27>','properties','country','#chat-button','active','#chat-list','none','#city-button','addClass','display','block','removeClass','#city-user-list','click','preventDefault','#aaifh471','val','#aaifh477','Hmm...\x20abnormal\x20behavior\x20was\x20detected.\x20Please\x20try\x20again.','Make\x20sure\x20your\x20username\x20is\x20between\x204\x20and\x2020\x20characters.','#age','You\x20must\x20be\x20at\x20least\x2016\x20years\x20old\x20to\x20use\x20this\x20site...\x20if\x20your\x20age\x20is\x20over\x2075,\x20just\x20put\x2075.','#bio','Your\x20biography\x20must\x20be\x20between\x2020\x20and\x20100\x20characters','Wait\x20until\x20flyTo\x20has\x20finished.','#chat-menu','fadeIn','#username','#sex','find',':selected','getTime','#login-wrapper','fadeOut','getJSON','https://api.ipdata.co/?api-key=982a1375474d4f171923e408626833ab269d418e63036d66243c8059','ipMapping','forEach','coordinates','userCityCircle','geojson','FeatureCollection','Feature','Point','addLayer','circle','#ff6666','getSource','cities','initializeUser','cityUpdate','Popup','features','lngLat','lng','lat','setLngLat','There\x20are\x20','shortBio','mouseenter','clusters','queryRenderedFeatures','point','cluster_id','point_count','mouseleave','remove','#map','pointer-events','auto','getCitySizes','getRandomUsers','replace','\x5c$&','Geolocation\x20is\x20not\x20working\x20on\x20your\x20browser.\x20You\x20must\x20enable\x20geolocation\x20to\x20use\x20chatiton.com.','returnTopCities','log','topCityMapping\x20=\x20','keys','length','split','#city-list','append','<div\x20onclick=visitCity(','\x27)\x20class=\x27city-panel\x27\x20id=','><b>','</b>:\x20','\x20active\x20users.\x20</div>','getClusterLeaves','city','push','setHTML','\x20active\x20user(s)\x20here.','addTo','emit','retrieveTopKCitySizes','geometry','flyTo','empty','username','age','sex','lastMessage','Start\x20chatting\x20with\x20','&#9794;','female','&#9792;','includes','<div\x20class=\x27city-panel\x27\x20id=\x27','\x27\x20onclick=\x22openChat(\x27'];(function(_0x353cb0,_0x2e5acd){var _0x57368f=function(_0xe1c560){while(--_0xe1c560){_0x353cb0['push'](_0x353cb0['shift']());}};_0x57368f(++_0x2e5acd);}(_0x136d,0x142));var _0x530e=function(_0x3c50ba,_0x189f30){_0x3c50ba=_0x3c50ba-0x0;var _0x19f4cd=_0x136d[_0x3c50ba];return _0x19f4cd;};var clusterSource;function addEscapeChars(_0x25f49c){return(_0x25f49c+'')[_0x530e('0x0')](/[\\"']/g,_0x530e('0x1'))[_0x530e('0x0')](/\u0000/g,'\x5c0');}function removeEscapeChars(_0x4133c4){return _0x4133c4['replace'](/\\"/g,'\x22');}function checkGeolocation(){if(!navigator['geolocation']){alert(_0x530e('0x2'));}}checkGeolocation();socket['on']('returnCityData',downloadCityData);function downloadCityData(_0x102a5e){cityUserList=_0x102a5e;renderCitySizes(_0x102a5e);}socket['on'](_0x530e('0x3'),downloadTopCities);function downloadTopCities(_0x387962){var _0x2b3a19=_0x387962[0x0];var _0x4cd305=_0x387962[0x1];cityRanking=_0x387962[0x2];var _0x69b5e3=_0x387962[0x3];console[_0x530e('0x4')](_0x530e('0x5')+_0x4cd305);var _0x2a78d8=Object[_0x530e('0x6')](_0x4cd305);$('#city-list')['empty']();if(_0x4cd305){var _0x472a96=![];for(var _0xce17f9=0x0;_0xce17f9<_0x2a78d8[_0x530e('0x7')];_0xce17f9++){var _0x3fe47c=_0x2a78d8[_0xce17f9];var _0xb239e0=_0x3fe47c[_0x530e('0x8')]('-')[0x0];var _0x18ab6b=_0x3fe47c[_0x530e('0x8')]('-')[0x1];if(_0x4cd305[_0x3fe47c]>=0x1){_0x472a96=!![];$(_0x530e('0x9'))[_0x530e('0xa')](_0x530e('0xb')+_0x18ab6b+',\x27'+_0x3fe47c+_0x530e('0xc')+_0x18ab6b+_0x530e('0xd')+_0xb239e0+_0x530e('0xe')+_0x4cd305[_0x3fe47c]+_0x530e('0xf'));$('#'+_0x18ab6b)['click'](function(){visitCity(_0x18ab6b,_0x3fe47c);});}}if(_0x472a96){clusterSource[_0x530e('0x10')](_0x2b3a19,_0x69b5e3,0x0,function(_0x29bc8f,_0x8729a6){var _0xf78099=[];for(var _0xce17f9=0x0;_0xce17f9<_0x8729a6[_0x530e('0x7')];_0xce17f9++){var _0x1e7fd7=_0x8729a6[_0xce17f9];var _0x3fe47c=_0x1e7fd7['properties'][_0x530e('0x11')];_0xf78099[_0x530e('0x12')](_0x3fe47c);}});}}}socket['on']('totalClusterUsers',downloadClusterUsers);function downloadClusterUsers(_0x109900){var _0x30da54=_0x109900[0x0];var _0x3f01c5=_0x109900[0x1];clusterToNumCities[_0x30da54]=_0x3f01c5;clusterPopup[_0x530e('0x13')]('There\x20are\x20'+_0x3f01c5+_0x530e('0x14'))[_0x530e('0x15')](map);}function retrieveTopKCities(_0x534f1b,_0x4e199a,_0x4b183e){socket[_0x530e('0x16')](_0x530e('0x17'),[_0x534f1b,_0x4e199a,_0x4b183e]);}function visitCity(_0x3cc909,_0x32550d){var _0x5ed94b=featureById[parseInt(_0x3cc909)][_0x530e('0x18')]['coordinates'];flying=!![];map[_0x530e('0x19')]({'center':_0x5ed94b,'zoom':0xb});map['on']('moveend',function(_0xfec626){flying=![];});var _0x4e96fb=cityUserList[_0x32550d];$(_0x530e('0x9'))[_0x530e('0x1a')]();if(_0x4e96fb){for(var _0x2286e5=0x0;_0x2286e5<_0x4e96fb[_0x530e('0x7')];_0x2286e5++){var _0x402820=_0x4e96fb[_0x2286e5];var _0x413263=addEscapeChars(_0x402820['id']);var _0x3b29ac=addEscapeChars(_0x402820[_0x530e('0x1b')]);var _0x4ce1db=addEscapeChars(_0x402820[_0x530e('0x1c')]);var _0x2c1583=addEscapeChars(_0x402820[_0x530e('0x1d')]);var _0xd8ad3c=addEscapeChars(_0x402820['shortBio']);var _0x28f5a6=_0x402820['lastMessage'];if(_0x28f5a6){_0x28f5a6=addEscapeChars(_0x402820[_0x530e('0x1e')]);}else{_0x28f5a6=_0x530e('0x1f')+_0x3b29ac+'!';}var _0x3e8a4e=_0x530e('0x20');if(_0x2c1583==_0x530e('0x21')){_0x3e8a4e=_0x530e('0x22');}if(unopenedChats[_0x530e('0x23')](_0x413263)){$('#city-list')[_0x530e('0xa')](_0x530e('0x24')+_0x413263+_0x530e('0x25')+_0x413263+_0x530e('0x26')+_0x3b29ac+_0x530e('0x26')+_0x2c1583+_0x530e('0x26')+_0x4ce1db+_0x530e('0x26')+_0xd8ad3c+_0x530e('0x27')+_0x530e('0xd')+_0x3b29ac+'</b>,\x20'+_0x3e8a4e+',\x20'+_0x4ce1db+_0x530e('0x28')+removeEscapeChars(_0x28f5a6)+'</b></div>');}else{$(_0x530e('0x9'))[_0x530e('0xa')](_0x530e('0x29')+_0x413263+_0x530e('0x25')+_0x413263+_0x530e('0x26')+_0x3b29ac+_0x530e('0x26')+_0x2c1583+_0x530e('0x26')+_0x4ce1db+_0x530e('0x26')+_0xd8ad3c+_0x530e('0x27')+'><b>'+_0x3b29ac+_0x530e('0x2a')+_0x3e8a4e+',\x20'+_0x4ce1db+_0x530e('0x2b')+removeEscapeChars(_0x28f5a6)+_0x530e('0x2c'));}$('#'+_0x413263)[_0x530e('0x2d')](_0x530e('0x2e'),_0x530e('0x2f'));}$(_0x530e('0x9'))[_0x530e('0xa')](_0x530e('0x30')+featureById[_0x3cc909][_0x530e('0x31')]['city'][_0x530e('0x8')]('-')[0x0]+',\x20'+featureById[_0x3cc909][_0x530e('0x31')][_0x530e('0x32')]+_0x530e('0x2c'));}}function cityView(){$(_0x530e('0x33'))['removeClass'](_0x530e('0x34'));$(_0x530e('0x35'))[_0x530e('0x2d')]('display',_0x530e('0x36'));$(_0x530e('0x37'))[_0x530e('0x38')](_0x530e('0x34'));$('#city-user-list')[_0x530e('0x2d')](_0x530e('0x39'),_0x530e('0x3a'));}function chatView(){$(_0x530e('0x37'))[_0x530e('0x3b')](_0x530e('0x34'));$(_0x530e('0x3c'))[_0x530e('0x2d')](_0x530e('0x39'),_0x530e('0x36'));$(_0x530e('0x33'))['addClass'](_0x530e('0x34'));returnToChatList();$('#chat-list')[_0x530e('0x2d')](_0x530e('0x39'),_0x530e('0x3a'));}$(_0x530e('0x37'))[_0x530e('0x3d')](function(){cityView();});$(_0x530e('0x33'))[_0x530e('0x3d')](function(){chatView();});$('#login-form')['submit'](function(_0x539560){_0x539560[_0x530e('0x3e')]();var _0x1b3f8d=!![];if($(_0x530e('0x3f'))[_0x530e('0x40')]()[_0x530e('0x7')]!=0x0&&!$(_0x530e('0x41'))['val']()[_0x530e('0x7')]==0x0){alert(_0x530e('0x42'));_0x1b3f8d=![];}if($('#username')[_0x530e('0x40')]()[_0x530e('0x7')]<0x4||$('#username')['val']()[_0x530e('0x7')]>0x14){alert(_0x530e('0x43'));_0x1b3f8d=![];}if($(_0x530e('0x44'))[_0x530e('0x40')]()<0x10||$('#age')[_0x530e('0x40')]()>0x4b){alert(_0x530e('0x45'));_0x1b3f8d=![];}if($(_0x530e('0x46'))[_0x530e('0x40')]()[_0x530e('0x7')]<0x14||$('#bio')[_0x530e('0x40')]()[_0x530e('0x7')]>0x64){alert(_0x530e('0x47'));_0x1b3f8d=![];}if(_0x1b3f8d){if(flying){alert(_0x530e('0x48'));}else{$(_0x530e('0x49'))[_0x530e('0x4a')]();var _0x231dad=$(_0x530e('0x4b'))[_0x530e('0x40')]();var _0x11d853=$(_0x530e('0x46'))[_0x530e('0x40')]();var _0x9f7b1d=$(_0x530e('0x44'))[_0x530e('0x40')]();var _0x2d5f35=$(_0x530e('0x4c'))[_0x530e('0x4d')](_0x530e('0x4e'))['val']();var _0x479698=addEscapeChars(socket['id']);var _0x231dad=addEscapeChars(_0x231dad);var _0x1fdc79=addEscapeChars(_0x9f7b1d);var _0x421aae=addEscapeChars(_0x2d5f35);var _0x39a3ad=addEscapeChars(_0x11d853);var _0x335145='';date=new Date();you=new ChatUser(_0x479698,_0x231dad,_0x1fdc79,_0x421aae,_0x39a3ad,_0x335145,date[_0x530e('0x4f')]());$(_0x530e('0x50'))[_0x530e('0x51')]();$[_0x530e('0x52')](_0x530e('0x53'),function(_0x5460cd){var _0x578867=_0x5460cd[_0x530e('0x11')];var _0x6a4664=_0x5460cd['ip'];if(_0x6a4664){socket[_0x530e('0x16')](_0x530e('0x54'),_0x6a4664);}var _0x589e95='';updateCityNames();Object[_0x530e('0x6')](cityNames)[_0x530e('0x55')](function(_0x56c3d9){if(_0x56c3d9[_0x530e('0x23')](_0x578867+'-')){_0x589e95=_0x56c3d9;var _0x583320=cityNames[_0x56c3d9];cityLong=_0x583320[_0x530e('0x18')]['coordinates'][0x0];cityLat=_0x583320[_0x530e('0x18')][_0x530e('0x56')][0x1];}});flying=!![];map[_0x530e('0x19')]({'center':[cityLong,cityLat]});map['addSource'](_0x530e('0x57'),{'type':_0x530e('0x58'),'data':{'type':_0x530e('0x59'),'features':[{'type':_0x530e('0x5a'),'geometry':{'type':_0x530e('0x5b'),'coordinates':[cityLong,cityLat]}}]}});map[_0x530e('0x5c')]({'id':'userCityCircle','type':_0x530e('0x5d'),'source':'userCityCircle','layout':{'visibility':_0x530e('0x36')},'paint':{'circle-radius':0xe,'circle-color':_0x530e('0x5e'),'circle-opacity':0.6}});clusterSource=map[_0x530e('0x5f')](_0x530e('0x60'));socket[_0x530e('0x16')](_0x530e('0x61'),[_0x231dad,_0x9f7b1d,_0x11d853,_0x2d5f35,_0x589e95,featureById[_0x589e95[_0x530e('0x8')]('-')[0x1]][_0x530e('0x31')][_0x530e('0x32')]]);socket[_0x530e('0x16')](_0x530e('0x62'),_0x589e95);var _0x1e2ef6=parseInt(_0x589e95[_0x530e('0x8')]('-')[0x1]);popup=new mapboxgl[(_0x530e('0x63'))]({'closeButton':![],'closeOnClick':![]});clusterPopup=new mapboxgl[(_0x530e('0x63'))]({'closeButton':![],'closeOnClick':![]});map['on']('mouseenter',_0x530e('0x60'),function(_0x539560){if(!flying){cityRanking=0x1;var _0x8e1214=_0x539560[_0x530e('0x64')][0x0][_0x530e('0x31')][_0x530e('0x11')];if(_0x8e1214){socket[_0x530e('0x16')]('getCitySizes',[_0x8e1214]);var _0x234bee=cityUserList[_0x8e1214];var _0x17036e=0x0;if(_0x234bee){_0x17036e=_0x234bee[_0x530e('0x7')];}var _0x3b7382=[_0x539560[_0x530e('0x65')][_0x530e('0x66')],_0x539560[_0x530e('0x65')][_0x530e('0x67')]];popup[_0x530e('0x68')](_0x3b7382)[_0x530e('0x13')](_0x530e('0x69')+_0x17036e+'\x20active\x20user(s)\x20here.')[_0x530e('0x15')](map);cityView();$(_0x530e('0x9'))[_0x530e('0x1a')]();if(_0x234bee){for(var _0x2ee3c0=0x0;_0x2ee3c0<_0x234bee[_0x530e('0x7')];_0x2ee3c0++){var _0x3e7918=_0x234bee[_0x2ee3c0];var _0x479698=_0x3e7918['id'];var _0x231dad=addEscapeChars(_0x3e7918[_0x530e('0x1b')]);var _0x421aae=addEscapeChars(_0x3e7918[_0x530e('0x1d')]);var _0x39a3ad=addEscapeChars(_0x3e7918[_0x530e('0x6a')]);var _0x18f7f6=_0x530e('0x20');if(_0x421aae=='female'){_0x18f7f6='&#9792;';}$('#city-list')[_0x530e('0xa')]('<div\x20class=\x27city-panel\x27\x20id=\x27'+_0x479698+_0x530e('0x25')+_0x479698+'\x27,\x27'+_0x231dad+'\x27,\x27'+_0x421aae+_0x530e('0x26')+_0x3e7918[_0x530e('0x1c')]+_0x530e('0x26')+_0x39a3ad+'\x27)\x22><b>'+_0x3e7918[_0x530e('0x1b')]+'</b>,\x20'+_0x18f7f6+',\x20'+_0x3e7918['age']+_0x530e('0x2b')+_0x3e7918[_0x530e('0x6a')]+'</div>');}var _0x1e2ef6=_0x8e1214['split']('-')[0x1];$(_0x530e('0x9'))[_0x530e('0xa')](_0x530e('0x30')+featureById[_0x1e2ef6][_0x530e('0x31')][_0x530e('0x11')][_0x530e('0x8')]('-')[0x0]+',\x20'+featureById[_0x1e2ef6][_0x530e('0x31')][_0x530e('0x32')]+_0x530e('0x2c'));}}}});map['on'](_0x530e('0x6b'),_0x530e('0x6c'),function(_0x539560){if(!flying){var _0x127f46=map[_0x530e('0x6d')](_0x539560[_0x530e('0x6e')],{'layers':[_0x530e('0x6c')]});var _0x148562=_0x127f46[0x0][_0x530e('0x31')][_0x530e('0x6f')];var _0x4cbd28=_0x127f46[0x0][_0x530e('0x31')][_0x530e('0x70')];clusterSource[_0x530e('0x10')](_0x148562,_0x4cbd28,0x0,function(_0xb6db23,_0x127f46){var _0x103009=[];for(var _0x104f05=0x0;_0x104f05<_0x127f46['length'];_0x104f05++){var _0x3e7df3=_0x127f46[_0x104f05];var _0x5d37ad=_0x3e7df3[_0x530e('0x31')][_0x530e('0x11')];_0x103009[_0x530e('0x12')](_0x5d37ad);}retrieveTopKCities(_0x148562,_0x103009,0xf);var _0x3f9eaa=clusterToNumCities[_0x148562];var _0x3d2b7d=[_0x539560[_0x530e('0x65')][_0x530e('0x66')],_0x539560[_0x530e('0x65')][_0x530e('0x67')]];clusterPopup['setLngLat'](_0x3d2b7d);});cityView();}});map['on'](_0x530e('0x71'),_0x530e('0x6c'),function(){clusterPopup[_0x530e('0x72')]();});map['on'](_0x530e('0x71'),_0x530e('0x60'),function(){popup[_0x530e('0x72')]();});$(_0x530e('0x73'))['css'](_0x530e('0x74'),_0x530e('0x75'));updateCityNames();socket['emit'](_0x530e('0x76'),Object['keys'](cityNames));});socket[_0x530e('0x16')](_0x530e('0x77'),0xf);}}});