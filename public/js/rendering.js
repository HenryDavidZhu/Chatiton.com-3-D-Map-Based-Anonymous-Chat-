var _0x245e=['number','get','numUsers','addLayer','circle','case','#ff4d4d','#ff751a','all','#ffff4d','#66ff33','clusters','point_count','#000000','getJSON','longitude','latitude','flyTo','moveend','queryRenderedFeatures','properties','city','returnCityData','keys','length','getSource','setData','style.load','cities','geojson'];(function(_0x50eafa,_0x2d7b56){var _0x2efe1d=function(_0x13006b){while(--_0x13006b){_0x50eafa['push'](_0x50eafa['shift']());}};_0x2efe1d(++_0x2d7b56);}(_0x245e,0xed));var _0x407a=function(_0x546201,_0x3c2347){_0x546201=_0x546201-0x0;var _0x4503dc=_0x245e[_0x546201];return _0x4503dc;};var cityMap={};var cityUserList={};var cityNames={};var userLong=0x0;var userLat=0x0;var cityLong=0x0;var cityLat=0x0;var flying=!![];map['on'](_0x407a('0x0'),function(_0x50c48e){map['addSource'](_0x407a('0x1'),{'type':_0x407a('0x2'),'data':citiesJSON,'cluster':!![],'clusterMaxZoom':0xe,'clusterRadius':0x50,'clusterProperties':{'numUsers':['+',[_0x407a('0x3'),[_0x407a('0x4'),_0x407a('0x5')],0x0]]}});map[_0x407a('0x6')]({'id':_0x407a('0x1'),'type':_0x407a('0x7'),'source':_0x407a('0x1'),'paint':{'circle-color':[_0x407a('0x8'),['==',[_0x407a('0x4'),_0x407a('0x5')],null],_0x407a('0x9'),['all',['>=',[_0x407a('0x4'),_0x407a('0x5')],0x1],['<',[_0x407a('0x4'),'numUsers'],0x5]],_0x407a('0xa'),[_0x407a('0xb'),['>=',['get',_0x407a('0x5')],0x5],['<',[_0x407a('0x4'),_0x407a('0x5')],0xa]],_0x407a('0xc'),['>=',[_0x407a('0x4'),_0x407a('0x5')],0xa],_0x407a('0xd'),_0x407a('0x9')],'circle-radius':[_0x407a('0x8'),['==',['get',_0x407a('0x5')],null],0x9,[_0x407a('0xb'),['>=',[_0x407a('0x4'),_0x407a('0x5')],0x1],['<',[_0x407a('0x4'),_0x407a('0x5')],0x5]],0xc,[_0x407a('0xb'),['>=',[_0x407a('0x4'),'numUsers'],0x5],['<',[_0x407a('0x4'),_0x407a('0x5')],0xa]],0xe,['>=',['get',_0x407a('0x5')],0xa],0x10,0x9],'circle-opacity':[_0x407a('0x8'),['==',[_0x407a('0x4'),_0x407a('0x5')],null],0.7,['>=',[_0x407a('0x4'),_0x407a('0x5')],0x1],0x1,0.7]}});map['addLayer']({'id':_0x407a('0xe'),'type':_0x407a('0x7'),'source':_0x407a('0x1'),'filter':['>=',_0x407a('0xf'),0x2],'paint':{'circle-color':_0x407a('0x10'),'circle-radius':0xc,'circle-opacity':0x0}});$[_0x407a('0x11')]('https://api.ipdata.co/?api-key=982a1375474d4f171923e408626833ab269d418e63036d66243c8059',function(_0x4af098){userLong=_0x4af098[_0x407a('0x12')];userLat=_0x4af098[_0x407a('0x13')];flying=!![];map[_0x407a('0x14')]({'center':[userLong,userLat]});map['on'](_0x407a('0x15'),function(_0x50c48e){flying=![];});});});function updateCityNames(){var _0x23873c=map[_0x407a('0x16')]({'layers':[_0x407a('0x1')]});cityNames={};for(var _0x8ac114=0x0;_0x8ac114<_0x23873c['length'];_0x8ac114++){var _0x5eabee=_0x23873c[_0x8ac114];if(_0x5eabee[_0x407a('0x17')][_0x407a('0x18')]){cityNames[_0x5eabee['properties'][_0x407a('0x18')]]=_0x5eabee;}}}map['on'](_0x407a('0x15'),onMoveEnd);function onMoveEnd(_0xbf1d6b){updateCityNames();}socket['on'](_0x407a('0x19'),updateCityData);function updateCityData(_0x49a0ba){cityMap=_0x49a0ba;}function renderCitySizes(_0x323beb){var _0x545939=Object[_0x407a('0x1a')](_0x323beb);for(var _0x591c8f=0x0;_0x591c8f<_0x545939[_0x407a('0x1b')];_0x591c8f++){var _0x44c121=_0x545939[_0x591c8f];var _0x2ffade=_0x44c121['split']('-')[0x1];featureById[_0x2ffade][_0x407a('0x17')]['numUsers']=_0x323beb[_0x44c121][_0x407a('0x1b')];}map[_0x407a('0x1c')](_0x407a('0x1'))[_0x407a('0x1d')](citiesJSON);}