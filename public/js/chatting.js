var _0x37e8=['</span></div></div>','<div\x20class=\x27user-msg-receiver\x27><div\x20class=\x27inner\x27>','chat-list','scrollTop','scrollHeight','#chat-list','splice','active','#city-list','css','display','none','#chat-button','addClass','#display-chats','&#9794;','&#9792;','#user-bar','html','<button\x20onclick=\x22returnToChatList()\x22>back</button>&nbsp;<b>','</b>,\x20','\x20<button\x20class=\x27report\x27\x20id=\x27report-','\x27>report</button><br>','#report-','Is\x20this\x20user\x20a\x20spammer\x20or\x20sending\x20abusive/inappropriate\x20messages?\x20If\x20so,\x20press\x20\x22Ok\x22\x20to\x20report\x20this\x20user.','emit','getTime','lastTimestamp','block','#active-chat','#send-msg','submit','#msg-text','val','#aaifh4712','#aaifh4772','Hmm...\x20abnormal\x20behavior\x20was\x20detected.\x20Please\x20try\x20again.','userLastMessage','Your\x20message\x20must\x20be\x20between\x201\x20and\x20300\x20characters\x20long.','keys','forEach','lastMessage','You\x20have\x20not\x20started\x20chatting\x20with\x20this\x20user\x20yet.','set','each','Start\x20chatting\x20with\x20','female','append','<div\x20class=\x27user-panel\x27\x20id=\x27','><div\x20class=\x27user-panel-left\x27','><div\x20class=\x22left\x22\x20onclick=\x22openChat(\x27','\x27)\x22','><b>','<br><b>','</b></div></div><div\x20class=\x27user-panel-close\x27><button\x20id=\x27','-close\x27>&times;</button></div></div>','\x27,\x27','<br>','</div></div><div\x20class=\x27user-panel-close\x27><button\x20id=\x27','-close','click','This\x20will\x20permanently\x20delete\x20your\x20chat\x20with\x20','.\x20Proceed?','receiveMessage','includes','push','userSex','#notification-modal','<a\x20href=\x27#\x27\x20onclick=\x22openChat(\x27','\x27)\x22>\x20You\x20received\x20a\x20message\x20from\x20<b>','</b>!','The\x20user\x20you\x20are\x20chatting\x20with\x20disconnected\x20:(.','Our\x20spam\x20detection\x20system\x20has\x20indicated\x20that\x20you\x20are\x20spamming.\x20You\x20have\x20been\x20kicked.\x20You\x20have\x203\x20chances\x20in\x20total\x20before','\x20you\x20get\x20temp\x20banned\x20for\x2030\x20minutes.','location','http://localhost:3000/','reportKick','During\x20this\x20chatting\x20session,\x20you\x20have\x20been\x20reported\x204\x20times\x20for\x20inappropriate\x20behavior.\x20You\x20have\x20been\x20kicked.\x20You\x20have\x203\x20choices\x20in\x20total\x20before','replace','ban','Due\x20to\x20what\x20was\x20perceived\x20as\x20inappropriate\x20behavior\x20from\x20you,\x20you\x20have\x20been\x20temporarily\x20banned\x20from\x20chatiton.com\x20for\x2035\x20minutes.','username','userAge','shortBio','escaped','senderId','timestamp','msgContent','messageList','opened','#chat-panel','empty','length','toString','split','<div\x20class=\x27user-msg\x27><div\x20class=\x27inner\x27>','<br><span\x20class=\x27timestamp\x27>'];(function(_0x58d6bd,_0x486be6){var _0x169d66=function(_0x51af8e){while(--_0x51af8e){_0x58d6bd['push'](_0x58d6bd['shift']());}};_0x169d66(++_0x486be6);}(_0x37e8,0xb2));var _0x2555=function(_0x100f37,_0x33beed){_0x100f37=_0x100f37-0x0;var _0x1cbd79=_0x37e8[_0x100f37];return _0x1cbd79;};var chattingWith='';var currentRoom='';var securityLevel=0x800;var usersChattingWith={};var chats={};var unopenedChats=[];var userTimestamps=new TreeMap();var date=new Date();var you;function ChatUser(_0x233875,_0x45e4d9,_0x34f4c6,_0x4c5c7d,_0x46dfcb,_0x511033,_0xbb2cc6){this['id']=_0x233875;this[_0x2555('0x0')]=_0x45e4d9;this['userSex']=_0x34f4c6;this[_0x2555('0x1')]=_0x4c5c7d;this[_0x2555('0x2')]=_0x46dfcb;this['lastMessage']=_0x511033;this['lastTimestamp']=_0xbb2cc6;this[_0x2555('0x3')]=![];}function Message(_0x49fc17,_0x3d6340,_0x38f67f){this[_0x2555('0x4')]=_0x49fc17;this[_0x2555('0x5')]=_0x3d6340;this[_0x2555('0x6')]=_0x38f67f;}function ChatSession(){this[_0x2555('0x7')]=[];this[_0x2555('0x8')]=![];}function updateChat(_0x4cb1d1){if(_0x4cb1d1 in chats){var _0x35a5d3=chats[_0x4cb1d1];$(_0x2555('0x9'))[_0x2555('0xa')]();for(var _0x3213e8=0x0;_0x3213e8<_0x35a5d3[_0x2555('0xb')];_0x3213e8++){var _0x353885=_0x35a5d3[_0x3213e8];var _0x47228a=new Date(_0x353885[_0x2555('0x5')])[_0x2555('0xc')]();var _0x7293ab=_0x47228a[_0x2555('0xd')]('\x20');var _0x336bad=_0x7293ab[0x0];var _0x129f5a=_0x7293ab[0x4];var _0x275428=_0x129f5a['split'](':');var _0x4c268d='am';var _0x1a8f66=parseInt(_0x275428[0x0]);var _0x1ea238=parseInt(_0x275428[0x1]);if(_0x1a8f66>=0xc){_0x4c268d='pm';if(_0x1a8f66>0xc){_0x1a8f66-=0xc;}}if(_0x1ea238<0xa){_0x1ea238='0'+String(_0x1ea238);}var _0x82e67e=_0x336bad+',\x20'+_0x1a8f66+':'+_0x1ea238+'\x20'+_0x4c268d;if(_0x353885['senderId']==socket['id']){$(_0x2555('0x9'))['append'](_0x2555('0xe')+_0x353885['msgContent']+_0x2555('0xf')+_0x82e67e+_0x2555('0x10'));}else{$(_0x2555('0x9'))['append'](_0x2555('0x11')+_0x353885[_0x2555('0x6')]+_0x2555('0xf')+_0x82e67e+'</span></div></div>');}}var _0x2312de=document['getElementById'](_0x2555('0x12'));_0x2312de[_0x2555('0x13')]=_0x2312de[_0x2555('0x14')];$(_0x2555('0x15'))[_0x2555('0x13')]($(_0x2555('0x15'))[0x0][_0x2555('0x14')]);}}function openChat(_0x42f4c6,_0xb953a6,_0x529b65,_0x3fff62,_0x5de028){var _0x1d9e86=unopenedChats['indexOf'](_0x42f4c6);if(_0x1d9e86!=-0x1){unopenedChats[_0x2555('0x16')](_0x1d9e86,0x1);}$('#city-button')['removeClass'](_0x2555('0x17'));$(_0x2555('0x18'))[_0x2555('0x19')](_0x2555('0x1a'),_0x2555('0x1b'));$('#display-chats')[_0x2555('0x19')]('display','none');$(_0x2555('0x1c'))[_0x2555('0x1d')](_0x2555('0x17'));$(_0x2555('0x1e'))[_0x2555('0xa')]();var _0x413911=_0x2555('0x1f');if(_0x529b65=='female'){_0x413911=_0x2555('0x20');}$(_0x2555('0x21'))[_0x2555('0x22')](_0x2555('0x23')+_0xb953a6+_0x2555('0x24')+_0x413911+',\x20'+_0x3fff62+_0x2555('0x25')+_0x42f4c6+_0x2555('0x26')+_0x5de028);$(_0x2555('0x27')+_0x42f4c6)['click'](function(){var _0x1feecf=confirm(_0x2555('0x28'));if(_0x1feecf){socket[_0x2555('0x29')]('reportUser',[socket['id'],_0x42f4c6]);}});chattingWith=_0x42f4c6;date=new Date();if(!(chattingWith in usersChattingWith)){usersChattingWith[_0x42f4c6]=new ChatUser(_0x42f4c6,_0xb953a6,_0x529b65,_0x3fff62,_0x5de028,'',date[_0x2555('0x2a')]());}else{usersChattingWith[_0x42f4c6][_0x2555('0x2b')]=date[_0x2555('0x2a')]();}updateChat(_0x42f4c6);$(_0x2555('0x15'))[_0x2555('0x19')](_0x2555('0x1a'),_0x2555('0x2c'));$(_0x2555('0x2d'))['css'](_0x2555('0x1a'),_0x2555('0x2c'));}$(_0x2555('0x2e'))[_0x2555('0x2f')](function(_0x137a5c){_0x137a5c['preventDefault']();var _0x11ec2a=$(_0x2555('0x30'))[_0x2555('0x31')]();if($(_0x2555('0x32'))[_0x2555('0x31')]()[_0x2555('0xb')]!=0x0&&!$(_0x2555('0x33'))[_0x2555('0x31')]()[_0x2555('0xb')]!=0x0){alert(_0x2555('0x34'));}else{if(_0x11ec2a&&_0x11ec2a[_0x2555('0xb')]<=0x12c){if(socket['id']!=chattingWith){socket[_0x2555('0x29')]('sendMsg',[_0x11ec2a,you,chattingWith]);if(usersChattingWith[chattingWith]){usersChattingWith[chattingWith][_0x2555('0x35')]=new Message(socket['id'],date[_0x2555('0x2a')](),_0x11ec2a);}}date=new Date();if(chats[chattingWith]){chats[chattingWith]['push'](new Message(socket['id'],date[_0x2555('0x2a')](),_0x11ec2a));}else{chats[chattingWith]=[new Message(socket['id'],date[_0x2555('0x2a')](),_0x11ec2a)];}$(_0x2555('0x30'))[_0x2555('0x31')]('');updateChat(chattingWith);}else{alert(_0x2555('0x36'));}}});function returnToChatList(){$(_0x2555('0x1e'))[_0x2555('0xa')]();var _0x5bb227=[];userTimestamps=new TreeMap();Object[_0x2555('0x37')](usersChattingWith)[_0x2555('0x38')](function(_0x663ea0){var _0x222568=usersChattingWith[_0x663ea0];var _0x3c2b07=_0x222568[_0x2555('0x39')];if(!_0x3c2b07){_0x3c2b07=_0x2555('0x3a');}var _0x5ece39=-0x1*_0x222568[_0x2555('0x2b')];userTimestamps[_0x2555('0x3b')](_0x5ece39,_0x222568);});userTimestamps[_0x2555('0x3c')](function(_0x54851b,_0x4c8870){var _0x32eb69=addEscapeChars(_0x54851b['id']);var _0x5d1baa=addEscapeChars(_0x54851b['username']);var _0x2355bc=addEscapeChars(_0x54851b[_0x2555('0x1')]);var _0x199d3b=addEscapeChars(_0x54851b['userSex']);var _0x11cb37=addEscapeChars(_0x54851b['shortBio']);var _0x1d9681=_0x54851b[_0x2555('0x39')];if(_0x1d9681){_0x1d9681=addEscapeChars(_0x54851b['lastMessage']);}else{_0x1d9681=_0x2555('0x3d')+_0x5d1baa+'!';}var _0x5a6a79=_0x2555('0x1f');if(_0x199d3b==_0x2555('0x3e')){_0x5a6a79=_0x2555('0x20');}if(unopenedChats['includes'](_0x32eb69)){$(_0x2555('0x1e'))[_0x2555('0x3f')](_0x2555('0x40')+_0x32eb69+'\x27'+_0x2555('0x41')+_0x2555('0x42')+_0x32eb69+'\x27,\x27'+_0x5d1baa+'\x27,\x27'+_0x199d3b+'\x27,\x27'+_0x2355bc+'\x27,\x27'+_0x11cb37+_0x2555('0x43')+_0x2555('0x44')+_0x5d1baa+_0x2555('0x24')+_0x5a6a79+',\x20'+_0x2355bc+_0x2555('0x45')+removeEscapeChars(_0x1d9681)+_0x2555('0x46')+_0x32eb69+_0x2555('0x47'));}else{$(_0x2555('0x1e'))[_0x2555('0x3f')](_0x2555('0x40')+_0x32eb69+'\x27'+'><div\x20class=\x27user-panel-left\x27'+_0x2555('0x42')+_0x32eb69+_0x2555('0x48')+_0x5d1baa+_0x2555('0x48')+_0x199d3b+_0x2555('0x48')+_0x2355bc+_0x2555('0x48')+_0x11cb37+_0x2555('0x43')+_0x2555('0x44')+_0x5d1baa+'</b>,\x20'+_0x5a6a79+',\x20'+_0x2355bc+_0x2555('0x49')+removeEscapeChars(_0x1d9681)+_0x2555('0x4a')+_0x32eb69+'-close\x27>&times;</button></div></div>');}$('#'+_0x32eb69+_0x2555('0x4b'))[_0x2555('0x4c')](function(){var _0x5833c8=confirm(_0x2555('0x4d')+_0x5d1baa+_0x2555('0x4e'));if(_0x5833c8){delete chats[chattingWith];delete usersChattingWith[chattingWith];$(_0x2555('0x9'))[_0x2555('0xa')]();returnToChatList();}});});$(_0x2555('0x2d'))[_0x2555('0x19')](_0x2555('0x1a'),_0x2555('0x1b'));$('#display-chats')[_0x2555('0x19')](_0x2555('0x1a'),_0x2555('0x2c'));}socket['on'](_0x2555('0x4f'),receiveMsg);function receiveMsg(_0x57b8af){var _0x507e48=_0x57b8af[0x0];var _0xaa32e4=_0x57b8af[0x1];var _0x4d7d86=_0x57b8af[0x1]['id'];if(!unopenedChats[_0x2555('0x50')](_0x4d7d86)){unopenedChats[_0x2555('0x51')](_0x4d7d86);}var _0x1713bc=addEscapeChars(_0xaa32e4['id']);var _0x5358c0=addEscapeChars(_0xaa32e4[_0x2555('0x0')]);var _0x437f52=addEscapeChars(_0xaa32e4['userAge']);var _0x7786c4=addEscapeChars(_0xaa32e4[_0x2555('0x52')]);var _0x1cdb03=addEscapeChars(_0xaa32e4[_0x2555('0x2')]);var _0x186bd2=_0xaa32e4[_0x2555('0x39')];$(_0x2555('0x53'))[_0x2555('0x22')](_0x2555('0x54')+_0x1713bc+_0x2555('0x48')+_0x5358c0+'\x27,\x27'+_0x7786c4+'\x27,\x27'+_0x437f52+'\x27,\x27'+_0x1cdb03+_0x2555('0x55')+_0x5358c0+_0x2555('0x56'));$(_0x2555('0x53'))[_0x2555('0x19')](_0x2555('0x1a'),'block');if(_0x4d7d86 in chats){chats[_0x4d7d86][_0x2555('0x51')](new Message(_0x4d7d86,date[_0x2555('0x2a')](),_0x507e48));}else{chats[_0x4d7d86]=[new Message(_0x4d7d86,date[_0x2555('0x2a')](),_0x507e48)];}usersChattingWith[_0x4d7d86]=_0xaa32e4;usersChattingWith[_0x4d7d86]['lastMessage']=_0x507e48;usersChattingWith[_0x4d7d86][_0x2555('0x2b')]=date['getTime']();setTimeout(function(){$(_0x2555('0x53'))[_0x2555('0x19')]('display',_0x2555('0x1b'));},0x1388);if(chattingWith==_0x1713bc){updateChat(_0x1713bc);}if($(_0x2555('0x1e'))[_0x2555('0x19')](_0x2555('0x1a'))==_0x2555('0x2c')){returnToChatList();}}socket['on']('disconnectedUser',disconnectedUser);function disconnectedUser(_0x36b847){delete chats[_0x36b847];delete usersChattingWith[_0x36b847];$(_0x2555('0x1e'))[_0x2555('0xa')]();alert(_0x2555('0x57'));returnToChatList();}socket['on']('kick',kickUser);function kickUser(){alert(_0x2555('0x58')+_0x2555('0x59'));window[_0x2555('0x5a')]['replace'](_0x2555('0x5b'));}socket['on'](_0x2555('0x5c'),reportKickUser);function reportKickUser(){alert(_0x2555('0x5d')+_0x2555('0x59'));window['location'][_0x2555('0x5e')](_0x2555('0x5b'));}socket['on'](_0x2555('0x5f'),banUser);function banUser(){alert(_0x2555('0x60'));window[_0x2555('0x5a')]['replace'](_0x2555('0x5b'));}
